<!doctype html>
<html lang="id">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Arufkuy Store ‚Äî Digital Goods</title>
  <link rel="icon" type="image/png" href="icon.png">
  <meta name="description" content="Arufkuy Store menyediakan digital goods dengan proses cepat dan aman." />
  <meta name="theme-color" content="#0b1220" />

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          boxShadow: {
            glow: "0 0 0 1px rgba(148,163,184,.12), 0 12px 40px rgba(2,6,23,.55)"
          }
        }
      }
    }
  </script>
  <style>
    html {
      scroll-behavior: smooth;
    }

    .grid-bg {
      background-image: radial-gradient(circle at 1px 1px, rgba(148, 163, 184, .14) 1px, transparent 0);
      background-size: 26px 26px;
    }

    /* Hide scrollbar for dropdown */
    .no-scrollbar::-webkit-scrollbar {
      display: none;
    }

    .no-scrollbar {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }

    /* Payment Carousel Animation */
    @keyframes scroll-infinite {
      0% {
        transform: translateX(0);
      }

      100% {
        transform: translateX(calc(-100% / 3));
      }
    }

    .payment-carousel {
      animation: scroll-infinite 45s linear infinite;
    }

    .payment-carousel-wrapper:hover .payment-carousel {
      animation-play-state: paused;
    }
  </style>
</head>

<body class="min-h-screen bg-slate-950 text-slate-100">
  <!-- Top gradient -->
  <div class="pointer-events-none fixed inset-0 -z-10 overflow-hidden">
    <div class="absolute -top-40 left-1/2 h-[520px] w-[520px] -translate-x-1/2 rounded-full bg-indigo-500/20 blur-3xl">
    </div>
    <div class="absolute top-40 right-[-140px] h-[380px] w-[380px] rounded-full bg-cyan-500/15 blur-3xl"></div>
  </div>

  <!-- Header -->
  <header class="sticky top-0 z-50 border-b border-white/10 bg-slate-950/70 backdrop-blur">
    <div class="mx-auto flex max-w-6xl items-center justify-between px-4 py-4">
      <a href="#" class="flex items-center gap-3">
        <div class="grid h-10 w-10 place-items-center rounded-xl bg-white/5 shadow-glow">
          <span class="text-lg font-bold text-indigo-300">A</span>
        </div>
        <div class="leading-tight">
          <p class="text-sm font-semibold tracking-wide">Arufkuy Store</p>
          <p class="text-xs text-slate-400">Digital Goods</p>
        </div>
      </a>

      <nav class="hidden items-center gap-6 text-sm text-slate-300 md:flex">
        <a href="index.html#products" class="hover:text-white transition">Produk</a>
        <a href="order-guide.html" class="hover:text-white transition">Cara Order</a>
        <a href="feedback.html" class="hover:text-white transition">Feedback</a>
        <a href="help-center.html" class="hover:text-white transition">Pusat Bantuan</a>
        <a href="contact.html" class="hover:text-white transition">Kontak</a>
      </nav>

      <div class="flex items-center gap-3">
        <!-- Desktop Controls -->
        <div class="hidden md:flex items-center gap-3">
          <!-- Language Dropdown -->
          <div class="relative group">
            <button
              class="flex items-center gap-2 rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-xs font-semibold text-slate-300 hover:bg-white/10 transition">
              <span id="current-lang-flag">üáÆüá©</span>
              <span id="current-lang-text">ID</span>
              <svg class="w-3 h-3 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
              </svg>
            </button>
            <div
              class="absolute right-0 mt-2 w-32 origin-top-right rounded-xl border border-white/10 bg-slate-900 p-1 shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
              <button onclick="setLanguage('id')"
                class="flex w-full items-center gap-3 rounded-lg px-3 py-2 text-left text-xs text-slate-300 hover:bg-white/10 hover:text-white transition"><span>üáÆüá©</span>
                Indonesia</button>
              <button onclick="setLanguage('en')"
                class="flex w-full items-center gap-3 rounded-lg px-3 py-2 text-left text-xs text-slate-300 hover:bg-white/10 hover:text-white transition"><span>üá∫üá∏</span>
                English</button>
            </div>
          </div>

          <!-- Currency Dropdown -->
          <div class="relative group">
            <button
              class="flex items-center gap-2 rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-xs font-semibold text-slate-300 hover:bg-white/10 transition">
              <span id="current-curr-symbol" class="text-emerald-400 font-bold">Rp</span>
              <span id="current-curr-text">IDR</span>
              <svg class="w-3 h-3 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
              </svg>
            </button>
            <div
              class="absolute right-0 mt-2 w-48 max-h-72 overflow-y-auto no-scrollbar origin-top-right rounded-xl border border-white/10 bg-slate-900 p-1 shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
              <div id="currency-dropdown-menu"></div>
            </div>
          </div>

          <a href="https://arufkuy.myr.id/portal"
            class="hidden md:inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-indigo-500 to-cyan-500 px-4 py-2 text-sm font-semibold text-white transition-all duration-300 hover:shadow-lg hover:shadow-cyan-500/40 shadow-lg shadow-indigo-500/30">
            <span>Login</span>
          </a>
        </div>

        <!-- Mobile Hamburger Button -->
        <button onclick="toggleMobileMenu()" class="md:hidden rounded-xl bg-white/5 p-2 hover:bg-white/10 transition">
          <svg id="hamburger-icon" class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
          </svg>
          <svg id="close-icon" class="h-6 w-6 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
          </svg>
        </button>
      </div>

      <!-- Mobile Menu Dropdown -->
      <div id="mobile-menu"
        class="hidden md:hidden absolute top-20 left-4 right-4 rounded-3xl border border-white/10 bg-slate-950/90 backdrop-blur-xl p-5 shadow-2xl z-[100] transition-all duration-300">

        <!-- Navigation Links -->
        <div class="space-y-1 mb-4">
          <a href="#products" onclick="closeMobileMenu()"
            class="flex items-center gap-3 rounded-xl px-4 py-3 text-sm font-medium text-slate-200 hover:bg-white/10 transition">
            <svg class="w-5 h-5 text-indigo-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>
            </svg>
            Produk
          </a>
          <a href="order-guide.html" onclick="closeMobileMenu()"
            class="flex items-center gap-3 rounded-xl px-4 py-3 text-sm font-medium text-slate-200 hover:bg-white/10 transition">
            <svg class="w-5 h-5 text-indigo-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01">
              </path>
            </svg>
            Cara Order
          </a>
          <a href="help-center.html" onclick="closeMobileMenu()"
            class="flex items-center gap-3 rounded-xl px-4 py-3 text-sm font-medium text-slate-200 hover:bg-white/10 transition">
            <svg class="w-5 h-5 text-indigo-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z">
              </path>
            </svg>
            Pusat Bantuan
          </a>
          <a href="contact.html" onclick="closeMobileMenu()"
            class="flex items-center gap-3 rounded-xl px-4 py-3 text-sm font-medium text-slate-200 hover:bg-white/10 transition">
            <svg class="w-5 h-5 text-indigo-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z">
              </path>
            </svg>
            Kontak
          </a>
        </div>

        <div class="border-t border-white/10 pt-4 space-y-3">
          <!-- Language Accordion -->
          <details class="group rounded-xl bg-white/5 border border-white/5 overflow-hidden">
            <summary
              class="flex items-center justify-between px-4 py-3 cursor-pointer hover:bg-white/5 transition select-none list-none">
              <div class="flex items-center gap-3">
                <svg class="w-5 h-5 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M3 5h12M9 3v2m1.204 8.845a14.523 14.523 0 01-2.922-2.922m-8.601 1.697l7.965-7.965m0 0a17.652 17.652 0 00-6.732-4.147M21 12a9 9 0 11-18 0 9 9 0 0118 0z">
                  </path>
                </svg>
                <span class="text-sm font-medium text-slate-300">Bahasa</span>
              </div>
              <svg class="w-4 h-4 text-slate-500 transition-transform group-open:rotate-180" fill="none"
                stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
              </svg>
            </summary>
            <div class="px-4 pb-4 pt-2 grid grid-cols-2 gap-2 bg-black/20">
              <button onclick="setLanguage('id')"
                class="flex items-center justify-center gap-2 rounded-lg bg-white/5 px-3 py-2 text-xs font-medium text-slate-300 hover:bg-white/10 transition border border-white/5">
                <span class="text-base">üáÆüá©</span> Indonesia
              </button>
              <button onclick="setLanguage('en')"
                class="flex items-center justify-center gap-2 rounded-lg bg-white/5 px-3 py-2 text-xs font-medium text-slate-300 hover:bg-white/10 transition border border-white/5">
                <span class="text-base">üá∫üá∏</span> English
              </button>
            </div>
          </details>

          <!-- Currency Accordion -->
          <details class="group rounded-xl bg-white/5 border border-white/5 overflow-hidden">
            <summary
              class="flex items-center justify-between px-4 py-3 cursor-pointer hover:bg-white/5 transition select-none list-none">
              <div class="flex items-center gap-3">
                <svg class="w-5 h-5 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z">
                  </path>
                </svg>
                <span class="text-sm font-medium text-slate-300">Mata Uang</span>
              </div>
              <svg class="w-4 h-4 text-slate-500 transition-transform group-open:rotate-180" fill="none"
                stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
              </svg>
            </summary>
            <div id="mobile-currency-menu" class="px-4 pb-4 pt-2 grid grid-cols-2 gap-2 bg-black/20">
              <!-- Currencies will be injected here -->
            </div>
          </details>
        </div>
      </div>
    </div>
  </header>

  <!-- Hero -->
  <main class="grid-bg">
    <section class="mx-auto max-w-6xl px-4 py-16 md:py-24">
      <div class="grid items-center gap-10 md:grid-cols-2">
        <div>
          <p
            class="inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-4 py-2 text-xs text-slate-300">
            <span class="h-2 w-2 rounded-full bg-emerald-400"></span>
            <span>Proses cepat ‚Ä¢ Aman ‚Ä¢ Support responsif</span>
          </p>

          <h1 class="mt-5 text-4xl font-bold leading-tight tracking-tight md:text-5xl">
            <span>Digital goods</span> <span class="text-indigo-300">modern</span> <span>dengan proses</span> <span
              class="text-indigo-300">rapi</span>.
          </h1>

          <p class="mt-4 text-base leading-relaxed text-slate-300">
            Arufkuy Store menyediakan produk digital dengan informasi jelas, pembayaran praktis,
            dan pengiriman sesuai ketentuan produk.
          </p>

          <div class="mt-7 flex flex-col gap-3 sm:flex-row">
            <a href="#products"
              class="inline-flex items-center justify-center gap-2 rounded-2xl bg-gradient-to-r from-indigo-500 to-cyan-500 px-6 py-3 text-sm font-semibold text-white shadow-glow transition-all duration-300 hover:scale-105 hover:shadow-xl hover:shadow-cyan-500/30">
              <span>Jelajahi Produk</span>
            </a>
          </div>

          <div class="mt-8 grid grid-cols-3 gap-3 text-center text-xs text-slate-300 sm:max-w-md">
            <div class="rounded-2xl border border-white/10 bg-white/5 px-3 py-4">
              <p class="text-lg font-bold text-white">24/7</p>
              <p class="mt-1 text-slate-400">Monitoring</p>
            </div>
            <div class="rounded-2xl border border-white/10 bg-white/5 px-3 py-4">
              <p class="text-lg font-bold text-white">Fast</p>
              <p class="mt-1 text-slate-400">Delivery</p>
            </div>
            <div class="rounded-2xl border border-white/10 bg-white/5 px-3 py-4">
              <p class="text-lg font-bold text-white">Secure</p>
              <p class="mt-1 text-slate-400">Payment</p>
            </div>
          </div>
        </div>

        <!-- Right card -->
        <div class="relative">
          <div class="rounded-3xl border border-white/10 bg-white/5 p-6 shadow-glow">
            <div class="flex items-center justify-between">
              <p class="text-sm font-semibold text-slate-200">Status Layanan</p>
              <span class="rounded-full bg-emerald-400/15 px-3 py-1 text-xs font-semibold text-emerald-200">
                Online
              </span>
            </div>

            <div class="mt-5 space-y-3">
              <div class="rounded-2xl border border-white/10 bg-slate-950/40 p-4">
                <p class="text-xs text-slate-400">Website</p>
                <p class="mt-1 font-semibold">store.arufkuy.me</p>
              </div>
              <div class="rounded-2xl border border-white/10 bg-slate-950/40 p-4">
                <p class="text-xs text-slate-400">Payment Interface</p>
                <p class="mt-1 font-semibold">Mayar</p>
              </div>
            </div>

            <div class="mt-6 rounded-2xl border border-white/10 bg-slate-950/40 p-4">
              <p class="text-sm font-semibold">Pesan</p>
              <p class="mt-2 text-sm text-slate-300 leading-relaxed">
                Belanja produk digital dengan mudah dan aman, hanya di Arufkuy Digital Store.
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Payment Methods -->
    <section class="mx-auto max-w-6xl px-4 py-12">
      <div class="text-center mb-8">
        <h2 class="text-2xl font-bold tracking-tight md:text-3xl">Metode Pembayaran</h2>
        <p class="mt-2 text-sm text-slate-300">Transaksi aman dengan berbagai pilihan pembayaran</p>
      </div>

      <!-- Carousel Container with padding for hover effect -->
      <div class="payment-carousel-wrapper relative overflow-hidden py-4">
        <div class="payment-carousel flex gap-6 md:gap-8">
          <!-- First set of logos -->
          <div
            class="payment-logo-card flex-shrink-0 w-24 h-24 md:w-32 md:h-32 rounded-2xl border border-white/10 bg-white/5 backdrop-blur-sm p-4 flex items-center justify-center hover:bg-white/10 hover:border-white/20 transition-all duration-300 hover:scale-105">
            <img src="payment-icons/qris.png" alt="BCA" class="w-full h-full object-contain" />
          </div>
          <div
            class="payment-logo-card flex-shrink-0 w-24 h-24 md:w-32 md:h-32 rounded-2xl border border-white/10 bg-white/5 backdrop-blur-sm p-4 flex items-center justify-center hover:bg-white/10 hover:border-white/20 transition-all duration-300 hover:scale-105">
            <img src="payment-icons/dana.png" alt="Mandiri" class="w-full h-full object-contain" />
          </div>
          <div
            class="payment-logo-card flex-shrink-0 w-24 h-24 md:w-32 md:h-32 rounded-2xl border border-white/10 bg-white/5 backdrop-blur-sm p-4 flex items-center justify-center hover:bg-white/10 hover:border-white/20 transition-all duration-300 hover:scale-105">
            <img src="payment-icons/gopay.png" alt="BRI" class="w-full h-full object-contain" />
          </div>
          <div
            class="payment-logo-card flex-shrink-0 w-24 h-24 md:w-32 md:h-32 rounded-2xl border border-white/10 bg-white/5 backdrop-blur-sm p-4 flex items-center justify-center hover:bg-white/10 hover:border-white/20 transition-all duration-300 hover:scale-105">
            <img src="payment-icons/shopeepay.png" alt="QRIS" class="w-full h-full object-contain" />
          </div>
          <div
            class="payment-logo-card flex-shrink-0 w-24 h-24 md:w-32 md:h-32 rounded-2xl border border-white/10 bg-white/5 backdrop-blur-sm p-4 flex items-center justify-center hover:bg-white/10 hover:border-white/20 transition-all duration-300 hover:scale-105">
            <img src="payment-icons/ovo.png" alt="GoPay" class="w-full h-full object-contain" />
          </div>
          <div
            class="payment-logo-card flex-shrink-0 w-24 h-24 md:w-32 md:h-32 rounded-2xl border border-white/10 bg-white/5 backdrop-blur-sm p-4 flex items-center justify-center hover:bg-white/10 hover:border-white/20 transition-all duration-300 hover:scale-105">
            <img src="payment-icons/indomaret.png" alt="OVO" class="w-full h-full object-contain" />
          </div>
          <div
            class="payment-logo-card flex-shrink-0 w-24 h-24 md:w-32 md:h-32 rounded-2xl border border-white/10 bg-white/5 backdrop-blur-sm p-4 flex items-center justify-center hover:bg-white/10 hover:border-white/20 transition-all duration-300 hover:scale-105">
            <img src="payment-icons/alfamart.png" alt="Dana" class="w-full h-full object-contain" />
          </div>

          <!-- Second set (duplicate for seamless scroll) -->
          <div
            class="payment-logo-card flex-shrink-0 w-24 h-24 md:w-32 md:h-32 rounded-2xl border border-white/10 bg-white/5 backdrop-blur-sm p-4 flex items-center justify-center hover:bg-white/10 hover:border-white/20 transition-all duration-300 hover:scale-105">
            <img src="payment-icons/qris.png" alt="BCA" class="w-full h-full object-contain" />
          </div>
          <div
            class="payment-logo-card flex-shrink-0 w-24 h-24 md:w-32 md:h-32 rounded-2xl border border-white/10 bg-white/5 backdrop-blur-sm p-4 flex items-center justify-center hover:bg-white/10 hover:border-white/20 transition-all duration-300 hover:scale-105">
            <img src="payment-icons/dana.png" alt="Mandiri" class="w-full h-full object-contain" />
          </div>
          <div
            class="payment-logo-card flex-shrink-0 w-24 h-24 md:w-32 md:h-32 rounded-2xl border border-white/10 bg-white/5 backdrop-blur-sm p-4 flex items-center justify-center hover:bg-white/10 hover:border-white/20 transition-all duration-300 hover:scale-105">
            <img src="payment-icons/gopay.png" alt="BRI" class="w-full h-full object-contain" />
          </div>
          <div
            class="payment-logo-card flex-shrink-0 w-24 h-24 md:w-32 md:h-32 rounded-2xl border border-white/10 bg-white/5 backdrop-blur-sm p-4 flex items-center justify-center hover:bg-white/10 hover:border-white/20 transition-all duration-300 hover:scale-105">
            <img src="payment-icons/shopeepay.png" alt="QRIS" class="w-full h-full object-contain" />
          </div>
          <div
            class="payment-logo-card flex-shrink-0 w-24 h-24 md:w-32 md:h-32 rounded-2xl border border-white/10 bg-white/5 backdrop-blur-sm p-4 flex items-center justify-center hover:bg-white/10 hover:border-white/20 transition-all duration-300 hover:scale-105">
            <img src="payment-icons/ovo.png" alt="GoPay" class="w-full h-full object-contain" />
          </div>
          <div
            class="payment-logo-card flex-shrink-0 w-24 h-24 md:w-32 md:h-32 rounded-2xl border border-white/10 bg-white/5 backdrop-blur-sm p-4 flex items-center justify-center hover:bg-white/10 hover:border-white/20 transition-all duration-300 hover:scale-105">
            <img src="payment-icons/indomaret.png" alt="OVO" class="w-full h-full object-contain" />
          </div>
          <div
            class="payment-logo-card flex-shrink-0 w-24 h-24 md:w-32 md:h-32 rounded-2xl border border-white/10 bg-white/5 backdrop-blur-sm p-4 flex items-center justify-center hover:bg-white/10 hover:border-white/20 transition-all duration-300 hover:scale-105">
            <img src="payment-icons/alfamart.png" alt="Dana" class="w-full h-full object-contain" />
          </div>

          <!-- Third set (for extra smooth infinite scroll) -->
          <div
            class="payment-logo-card flex-shrink-0 w-24 h-24 md:w-32 md:h-32 rounded-2xl border border-white/10 bg-white/5 backdrop-blur-sm p-4 flex items-center justify-center hover:bg-white/10 hover:border-white/20 transition-all duration-300 hover:scale-105">
            <img src="payment-icons/qris.png" alt="BCA" class="w-full h-full object-contain" />
          </div>
          <div
            class="payment-logo-card flex-shrink-0 w-24 h-24 md:w-32 md:h-32 rounded-2xl border border-white/10 bg-white/5 backdrop-blur-sm p-4 flex items-center justify-center hover:bg-white/10 hover:border-white/20 transition-all duration-300 hover:scale-105">
            <img src="payment-icons/dana.png" alt="Mandiri" class="w-full h-full object-contain" />
          </div>
          <div
            class="payment-logo-card flex-shrink-0 w-24 h-24 md:w-32 md:h-32 rounded-2xl border border-white/10 bg-white/5 backdrop-blur-sm p-4 flex items-center justify-center hover:bg-white/10 hover:border-white/20 transition-all duration-300 hover:scale-105">
            <img src="payment-icons/gopay.png" alt="BRI" class="w-full h-full object-contain" />
          </div>
          <div
            class="payment-logo-card flex-shrink-0 w-24 h-24 md:w-32 md:h-32 rounded-2xl border border-white/10 bg-white/5 backdrop-blur-sm p-4 flex items-center justify-center hover:bg-white/10 hover:border-white/20 transition-all duration-300 hover:scale-105">
            <img src="payment-icons/shopeepay.png" alt="QRIS" class="w-full h-full object-contain" />
          </div>
          <div
            class="payment-logo-card flex-shrink-0 w-24 h-24 md:w-32 md:h-32 rounded-2xl border border-white/10 bg-white/5 backdrop-blur-sm p-4 flex items-center justify-center hover:bg-white/10 hover:border-white/20 transition-all duration-300 hover:scale-105">
            <img src="payment-icons/ovo.png" alt="GoPay" class="w-full h-full object-contain" />
          </div>
          <div
            class="payment-logo-card flex-shrink-0 w-24 h-24 md:w-32 md:h-32 rounded-2xl border border-white/10 bg-white/5 backdrop-blur-sm p-4 flex items-center justify-center hover:bg-white/10 hover:border-white/20 transition-all duration-300 hover:scale-105">
            <img src="payment-icons/indomaret.png" alt="OVO" class="w-full h-full object-contain" />
          </div>
          <div
            class="payment-logo-card flex-shrink-0 w-24 h-24 md:w-32 md:h-32 rounded-2xl border border-white/10 bg-white/5 backdrop-blur-sm p-4 flex items-center justify-center hover:bg-white/10 hover:border-white/20 transition-all duration-300 hover:scale-105">
            <img src="payment-icons/alfamart.png" alt="Dana" class="w-full h-full object-contain" />
          </div>
        </div>
      </div>
    </section>

    <!-- Products -->
    <section id="products" class="mx-auto max-w-6xl px-4 py-16">
      <div class="flex items-end justify-between gap-4">
        <div>
          <h2 class="text-2xl font-bold tracking-tight md:text-3xl">Produk Populer</h2>
          <p class="mt-2 text-sm text-slate-300">Katalog produk digital terbaik untukmu.
          </p>
        </div>

        <div class="hidden md:flex items-center gap-2 text-xs text-slate-400">
          <span class="rounded-full bg-white/5 px-3 py-2 border border-white/10">Stok: tergantung
            ketersediaan</span>
          <span class="rounded-full bg-white/5 px-3 py-2 border border-white/10">Pengiriman:
            cepat</span>
        </div>
      </div>

      <!-- Search & Filter -->
      <div class="mt-6 flex flex-row gap-3">
        <div class="relative flex-1">
          <svg class="w-5 h-5 text-slate-400 absolute left-3 top-3.5" fill="none" stroke="currentColor"
            viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
          </svg>
          <input type="text" id="product-search" placeholder="Cari produk..."
            class="w-full h-12 pl-10 pr-4 rounded-xl bg-white/5 border border-white/10 text-white placeholder:text-slate-500 focus:border-indigo-500 focus:outline-none transition">
        </div>
        <!-- Category Dropdown -->
        <div class="relative z-20 flex-shrink-0">
          <button onclick="toggleCategoryMenu()"
            class="h-12 flex items-center gap-2 px-3 md:px-4 rounded-xl bg-white/5 border border-white/10 text-white hover:bg-white/10 transition whitespace-nowrap">
            <svg class="w-4 h-4 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z">
              </path>
            </svg>
            <span class="text-sm font-semibold hidden sm:inline">Kategori</span>
            <svg class="w-4 h-4 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </button>

          <!-- Dropdown Menu -->
          <div id="category-dropdown"
            class="absolute top-full right-0 md:left-0 md:right-auto mt-2 w-72 rounded-2xl border border-white/10 bg-slate-900/95 backdrop-blur-xl shadow-2xl opacity-0 invisible transition-all duration-200 transform origin-top-right md:origin-top-left scale-95">
            <div class="p-3">
              <div class="relative">
                <svg class="absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500" fill="none"
                  stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                </svg>
                <input type="text" id="category-search" placeholder="Cari kategori..."
                  oninput="filterCategoriesInDropdown()"
                  class="w-full pl-10 pr-4 py-2 rounded-lg bg-white/5 border border-white/10 text-sm text-white placeholder:text-slate-500 focus:border-indigo-500 focus:outline-none transition">
              </div>
            </div>
            <div id="category-list" class="max-h-80 overflow-y-auto custom-scrollbar px-2 pb-2">
              <!-- Categories injected here -->
            </div>
          </div>
        </div>
      </div>
      <div id="active-filters" class="mt-3 flex flex-wrap gap-2 items-center"></div>

      <div id="products-grid" class="mt-8 grid gap-5 md:grid-cols-3">
        <!-- Loading State -->
        <div class="col-span-full text-center py-10 text-slate-400 animate-pulse">
          Memuat produk...
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="border-t border-white/10">
      <div class="mx-auto max-w-6xl px-4 py-8">
        <div class="flex flex-col gap-6 md:flex-row md:items-center md:justify-between">
          <div class="text-sm text-slate-400">
            <p class="font-semibold text-slate-200">Arufkuy Store</p>
            <p class="mt-1">¬© <span id="year"></span> ‚Ä¢ All rights reserved.</p>
          </div>
          <div class="flex items-center gap-5">
            <a href="https://discord.gg/3sDGqtZBcW" class="text-slate-400 hover:text-white transition">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-discord"
                viewBox="0 0 16 16">
                <path
                  d="M13.545 2.907a13.2 13.2 0 0 0-3.257-1.011.05.05 0 0 0-.052.025c-.141.25-.297.577-.406.833a12.2 12.2 0 0 0-3.658 0 8 8 0 0 0-.412-.833.05.05 0 0 0-.052-.025c-1.125.194-2.22.534-3.257 1.011a.04.04 0 0 0-.021.018C.356 6.024-.213 9.047.066 12.032q.003.022.021.037a13.3 13.3 0 0 0 3.995 2.02.05.05 0 0 0 .056-.019q.463-.63.818-1.329a.05.05 0 0 0-.01-.059l-.018-.011a9 9 0 0 1-1.248-.595.05.05 0 0 1-.02-.066l.015-.019q.127-.095.248-.195a.05.05 0 0 1 .051-.007c2.619 1.196 5.454 1.196 8.041 0a.05.05 0 0 1 .053.007q.121.1.248.195a.05.05 0 0 1-.004.085 8 8 0 0 1-1.249.594.05.05 0 0 0-.03.03.05.05 0 0 0 .003.041c.24.465.515.909.817 1.329a.05.05 0 0 0 .056.019 13.2 13.2 0 0 0 4.001-2.02.05.05 0 0 0 .021-.037c.334-3.451-.559-6.449-2.366-9.106a.03.03 0 0 0-.02-.019m-8.198 7.307c-.789 0-1.438-.724-1.438-1.612s.637-1.613 1.438-1.613c.807 0 1.45.73 1.438 1.613 0 .888-.637 1.612-1.438 1.612m5.316 0c-.788 0-1.438-.724-1.438-1.612s.637-1.613 1.438-1.613c.807 0 1.451.73 1.438 1.613 0 .888-.631 1.612-1.438 1.612" />
              </svg>
            </a>
            <a href="https://www.instagram.com/arufkuystore" class="text-slate-400 hover:text-white transition">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-instagram"
                viewBox="0 0 16 16">
                <path
                  d="M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.9 3.9 0 0 0-1.417.923A3.9 3.9 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.9 3.9 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.9 3.9 0 0 0-.923-1.417A3.9 3.9 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599s.453.546.598.92c.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.5 2.5 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.5 2.5 0 0 1-.92-.598 2.5 2.5 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233s.008-2.388.046-3.231c.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92s.546-.453.92-.598c.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92m-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217m0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334" />
              </svg>
            </a>
            <a href="https://www.tiktok.com/@arufkuy.digital.store" class="text-slate-400 hover:text-white transition">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-tiktok"
                viewBox="0 0 16 16">
                <path
                  d="M9 0h1.98c.144.715.54 1.617 1.235 2.512C12.895 3.389 13.797 4 15 4v2c-1.753 0-3.07-.814-4-1.829V11a5 5 0 1 1-5-5v2a3 3 0 1 0 3 3z" />
              </svg>
            </a>
          </div>
        </div>
      </div>
    </footer>
  </main>

  <script>
    document.getElementById("year").textContent = new Date().getFullYear();

    // Mobile Menu Toggle
    function toggleMobileMenu() {
      const menu = document.getElementById('mobile-menu');
      const hamburgerIcon = document.getElementById('hamburger-icon');
      const closeIcon = document.getElementById('close-icon');

      if (menu.classList.contains('hidden')) {
        menu.classList.remove('hidden');
        hamburgerIcon.classList.add('hidden');
        closeIcon.classList.remove('hidden');
      } else {
        menu.classList.add('hidden');
        hamburgerIcon.classList.remove('hidden');
        closeIcon.classList.add('hidden');
      }
    }

    function closeMobileMenu() {
      const menu = document.getElementById('mobile-menu');
      const hamburgerIcon = document.getElementById('hamburger-icon');
      const closeIcon = document.getElementById('close-icon');

      menu.classList.add('hidden');
      hamburgerIcon.classList.remove('hidden');
      closeIcon.classList.add('hidden');
    }

    // Close mobile menu when clicking outside
    document.addEventListener('click', function (event) {
      const menu = document.getElementById('mobile-menu');
      const button = event.target.closest('button[onclick="toggleMobileMenu()"]');
      const menuContent = event.target.closest('#mobile-menu');

      if (!button && !menuContent && !menu.classList.contains('hidden')) {
        closeMobileMenu();
      }
    });
  </script>

  <!-- Google Translate & Utils -->
  <div id="google_translate_element" style="display:none;"></div>
  <script src="utils.js"></script>
  <script type="text/javascript"
    src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

  <!-- Firebase & Page Logic -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyDtBSbjr5IHmuZqND0MIexw-tWWcZIF33A",
      authDomain: "arufkuy-store.firebaseapp.com",
      projectId: "arufkuy-store",
      storageBucket: "arufkuy-store.firebasestorage.app",
      messagingSenderId: "694416486376",
      appId: "1:694416486376:web:fa36cccffd65557ddc3e5d"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    async function loadProducts() {
      const productsGrid = document.getElementById("products-grid");

      try {
        // Load sections first (with fallback if permissions denied)
        let sections = [];
        try {
          const sectionsSnapshot = await getDocs(collection(db, "sections"));
          sections = sectionsSnapshot.docs
            .map(doc => ({ id: doc.id, ...doc.data() }))
            .filter(s => s.enabled !== false)
            .sort((a, b) => (a.order || 0) - (b.order || 0));
        } catch (sectionError) {
          console.warn("Could not load sections, displaying products without grouping:", sectionError.message);
          // Continue with empty sections array - products will display without section headers
        }

        // Load all products
        const querySnapshot = await getDocs(collection(db, "products"));

        if (querySnapshot.empty) {
          productsGrid.innerHTML = '<div class="col-span-full text-center py-10 text-slate-400">Belum ada produk tersedia.</div>';
          return;
        }

        // Store globally for search/filter
        allProducts = [];
        querySnapshot.forEach(doc => {
          allProducts.push({ id: doc.id, ...doc.data() });
        });

        // Store sections globally
        allSections = sections;

        // Initial render in grouped view
        renderGroupedProducts();

        // Initialize category dropdown
        initCategoryDropdown();



      } catch (error) {
        console.error("Error loading products:", error);
        productsGrid.innerHTML = '<div class="col-span-full text-center py-10 text-red-400">Gagal memuat produk.</div>';
      }
    }

    async function init() {
      await fetchAndUpdateExchangeRate();
      loadProducts();
      loadPopupSystem();
      initSearchFilter();
      initThemeEngine();
    }

    // ========== POPUP SYSTEM ==========
    let currentPopupId = null;

    async function loadPopupSystem() {
      try {
        const { query, where, orderBy } = await import("https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js");
        const popupsSnapshot = await getDocs(query(collection(db, "popups"), where("isActive", "==", true), orderBy("priority", "asc")));

        if (popupsSnapshot.empty) return;

        const popupDoc = popupsSnapshot.docs[0];
        const popup = popupDoc.data();
        currentPopupId = popupDoc.id;

        // Check date range
        if (popup.startDate || popup.endDate) {
          const now = new Date();
          if (popup.startDate && new Date(popup.startDate) > now) return;
          if (popup.endDate && new Date(popup.endDate) < now) return;
        }

        // Check frequency
        const dismissedKey = `popup_${currentPopupId}_dismissed`;
        const lastShownKey = `popup_${currentPopupId}_lastShown`;

        if (popup.frequency === 'once' && localStorage.getItem(dismissedKey)) return;
        if (popup.frequency === 'session' && sessionStorage.getItem(dismissedKey)) return;

        if (popup.frequency === 'daily') {
          const lastShown = localStorage.getItem(lastShownKey);
          if (lastShown && new Date(parseInt(lastShown)).toDateString() === new Date().toDateString()) return;
        }

        // Show popup after delay
        setTimeout(() => showPopup(popup), 1500);

        // Track display
        if (popup.frequency === 'daily') {
          localStorage.setItem(lastShownKey, Date.now().toString());
        } else if (popup.frequency === 'session') {
          sessionStorage.setItem(dismissedKey, 'true');
        }
      } catch (error) {
        console.error('Popup system error:', error);
      }
    }

    function showPopup(popup) {
      const typeConfig = {
        coupon: {
          icon: 'üéÅ',
          gradient: 'from-emerald-500 via-cyan-500 to-teal-500',
          glowGradient: 'from-emerald-500/40 via-cyan-500/30 to-teal-500/40',
          accentColor: 'emerald',
          label: '‚ú® KODE PROMO'
        },
        announcement: {
          icon: 'üì¢',
          gradient: 'from-indigo-500 via-purple-500 to-pink-500',
          glowGradient: 'from-indigo-500/40 via-purple-500/30 to-pink-500/40',
          accentColor: 'indigo',
          label: 'üì£ PENGUMUMAN'
        },
        warning: {
          icon: '‚ö†Ô∏è',
          gradient: 'from-amber-500 via-orange-500 to-red-500',
          glowGradient: 'from-amber-500/40 via-orange-500/30 to-red-500/40',
          accentColor: 'amber',
          label: '‚ö†Ô∏è PERHATIAN'
        },
        info: {
          icon: '‚ÑπÔ∏è',
          gradient: 'from-cyan-500 via-blue-500 to-indigo-500',
          glowGradient: 'from-cyan-500/40 via-blue-500/30 to-indigo-500/40',
          accentColor: 'cyan',
          label: 'üí° INFORMASI'
        }
      };

      const config = typeConfig[popup.type] || typeConfig.info;

      // Get coupon code from database or extract from content
      let couponCode = popup.couponCode || '';
      let cleanContent = popup.content;

      // Fallback: extract from content if not in database (format: [CODE] or KODE: CODE)
      if (popup.type === 'coupon' && !couponCode) {
        const codeMatch = popup.content.match(/\[([A-Z0-9]+)\]|KODE:\s*([A-Z0-9]+)/i);
        if (codeMatch) {
          couponCode = codeMatch[1] || codeMatch[2];
          cleanContent = popup.content.replace(/\[([A-Z0-9]+)\]|KODE:\s*([A-Z0-9]+)/gi, '').trim();
        }
      }

      // Generate type-specific content section
      let contentSection = '';

      if (popup.type === 'coupon') {
        contentSection = `
          <!-- Coupon Code Box -->
          <div class="relative my-6">
            <div class="absolute inset-0 bg-gradient-to-r ${config.gradient} rounded-2xl blur opacity-30"></div>
            <div class="relative bg-slate-950/80 border-2 border-dashed border-emerald-500/50 rounded-2xl p-5 overflow-hidden">
              <!-- Decorative circles -->
              <div class="absolute -left-3 top-1/2 -translate-y-1/2 w-6 h-6 bg-slate-900 rounded-full"></div>
              <div class="absolute -right-3 top-1/2 -translate-y-1/2 w-6 h-6 bg-slate-900 rounded-full"></div>
              
              <p class="text-xs text-emerald-400 font-semibold text-center mb-2 uppercase tracking-widest">Kode Kupon</p>
              <div class="flex items-center justify-center gap-2 md:gap-3">
                <span id="coupon-code-text" class="text-base sm:text-xl md:text-2xl lg:text-3xl font-black bg-gradient-to-r ${config.gradient} bg-clip-text text-transparent tracking-wider break-all">
                  ${couponCode || 'PROMO2026'}
                </span>
                <button onclick="copyCouponCode()" id="copy-coupon-btn"
                  class="p-2 md:p-2.5 rounded-xl bg-emerald-500/20 border border-emerald-500/30 text-emerald-400 hover:bg-emerald-500 hover:text-white transition-all duration-300 group flex-shrink-0">
                  <svg id="copy-icon" class="w-4 h-4 md:w-5 md:h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                  </svg>
                  <svg id="check-icon" class="w-4 h-4 md:w-5 md:h-5 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                  </svg>
                </button>
              </div>
              <p id="copy-feedback" class="text-xs text-center mt-2 text-slate-500 h-4"></p>
            </div>
          </div>
          ${cleanContent ? `<p class="text-slate-400 text-sm text-center leading-relaxed">${cleanContent}</p>` : ''}
        `;
      } else if (popup.type === 'warning') {
        contentSection = `
          <!-- Warning Box -->
          <div class="relative my-5">
            <div class="bg-gradient-to-r from-amber-500/10 via-orange-500/10 to-red-500/10 border border-amber-500/30 rounded-2xl p-5">
              <div class="flex gap-4">
                <div class="flex-shrink-0">
                  <div class="w-10 h-10 rounded-xl bg-amber-500/20 flex items-center justify-center">
                    <svg class="w-6 h-6 text-amber-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/>
                    </svg>
                  </div>
                </div>
                <div class="text-slate-300 text-sm leading-relaxed whitespace-pre-line">${popup.content}</div>
              </div>
            </div>
          </div>
        `;
      } else if (popup.type === 'announcement') {
        contentSection = `
          <!-- Announcement Box -->
          <div class="relative my-5">
            <div class="absolute inset-0 bg-gradient-to-r ${config.glowGradient} rounded-2xl blur-lg"></div>
            <div class="relative bg-slate-800/50 border border-indigo-500/30 rounded-2xl p-5">
              <div class="text-slate-300 text-sm leading-relaxed whitespace-pre-line text-center">${popup.content}</div>
            </div>
          </div>
        `;
      } else {
        contentSection = `
          <!-- Info Box -->
          <div class="my-5 bg-white/5 border border-white/10 rounded-2xl p-5">
            <div class="text-slate-300 text-sm leading-relaxed whitespace-pre-line text-center">${popup.content}</div>
          </div>
        `;
      }

      const popupHtml = `
        <div id="info-popup" class="fixed inset-0 z-[100] flex items-center justify-center p-3 md:p-4 popup-overlay">
          <div class="absolute inset-0 bg-slate-950/85 backdrop-blur-md popup-backdrop" onclick="closePopup()"></div>
          
          <div class="relative w-full max-w-sm md:max-w-md popup-card">
            <!-- Animated Glow -->
            <div class="absolute -inset-1.5 bg-gradient-to-r ${config.glowGradient} rounded-[30px] blur-2xl opacity-70 animate-glow"></div>
            
            <!-- Main Card -->
            <div class="relative rounded-3xl border border-white/10 bg-slate-900/95 backdrop-blur-xl overflow-hidden shadow-2xl">
              <!-- Header Bar -->
              <div class="h-1.5 bg-gradient-to-r ${config.gradient}"></div>
              
              <!-- Close Button -->
              <button onclick="closePopup()" 
                class="absolute top-3 md:top-4 right-3 md:right-4 w-8 h-8 md:w-9 md:h-9 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center text-slate-400 hover:text-white hover:bg-red-500/20 hover:border-red-500/30 transition-all duration-300 group z-10">
                <svg class="w-4 h-4 group-hover:rotate-90 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                </svg>
              </button>
              
              <!-- Content -->
              <div class="p-5 md:p-7">
                <!-- Icon with Glow -->
                <div class="flex justify-center mb-4">
                  <div class="relative">
                    <div class="absolute inset-0 bg-gradient-to-r ${config.gradient} rounded-full blur-xl opacity-50"></div>
                    <div class="relative text-4xl md:text-5xl animate-bounce-slow drop-shadow-2xl">${config.icon}</div>
                  </div>
                </div>
                
                <!-- Label Badge -->
                <div class="flex justify-center mb-4">
                  <span class="px-4 py-1.5 rounded-full text-xs font-bold bg-gradient-to-r ${config.gradient} text-white shadow-lg">
                    ${config.label}
                  </span>
                </div>
                
                <!-- Title -->
                <h2 class="text-xl md:text-2xl font-black text-center mb-2 text-white">
                  ${popup.title}
                </h2>
                
                <!-- Decorative Line -->
                <div class="flex items-center gap-3 my-4">
                  <div class="flex-1 h-px bg-gradient-to-r from-transparent via-${config.accentColor}-500/50 to-transparent"></div>
                  <div class="flex gap-1">
                    <div class="w-1 h-1 rounded-full bg-${config.accentColor}-400"></div>
                    <div class="w-2 h-1 rounded-full bg-${config.accentColor}-400"></div>
                    <div class="w-1 h-1 rounded-full bg-${config.accentColor}-400"></div>
                  </div>
                  <div class="flex-1 h-px bg-gradient-to-r from-transparent via-${config.accentColor}-500/50 to-transparent"></div>
                </div>
                
                ${contentSection}
                
                <!-- Action Button -->
                <button onclick="closePopup()" 
                  class="w-full mt-5 py-4 rounded-2xl bg-gradient-to-r ${config.gradient} text-white font-bold text-sm shadow-lg hover:shadow-2xl hover:-translate-y-0.5 transition-all duration-300 active:scale-95">
                  ${popup.type === 'coupon' ? 'Belanja Sekarang' : popup.type === 'warning' ? 'Saya Mengerti' : 'Tutup'}
                </button>
              </div>
            </div>
          </div>
        </div>
        
        <style>
          @keyframes popup-in {
            from { opacity: 0; transform: scale(0.9) translateY(20px); }
            to { opacity: 1; transform: scale(1) translateY(0); }
          }
          @keyframes backdrop-in { from { opacity: 0; } to { opacity: 1; } }
          @keyframes bounce-slow { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-8px); } }
          @keyframes glow { 0%, 100% { opacity: 0.5; } 50% { opacity: 0.8; } }
          .popup-card { animation: popup-in 0.5s cubic-bezier(0.16, 1, 0.3, 1); }
          .popup-backdrop { animation: backdrop-in 0.3s ease-out; }
          .popup-overlay { animation: backdrop-in 0.2s ease-out; }
          .animate-bounce-slow { animation: bounce-slow 2s infinite ease-in-out; }
          .animate-glow { animation: glow 3s infinite ease-in-out; }
        </style>
      `;
      document.body.insertAdjacentHTML('beforeend', popupHtml);
    }

    window.copyCouponCode = function () {
      const codeText = document.getElementById('coupon-code-text').innerText.trim();
      navigator.clipboard.writeText(codeText).then(() => {
        const copyIcon = document.getElementById('copy-icon');
        const checkIcon = document.getElementById('check-icon');
        const feedback = document.getElementById('copy-feedback');
        const btn = document.getElementById('copy-coupon-btn');

        copyIcon.classList.add('hidden');
        checkIcon.classList.remove('hidden');
        btn.classList.add('bg-emerald-500', 'text-white');
        feedback.textContent = '‚úì Berhasil disalin!';
        feedback.classList.remove('text-slate-500');
        feedback.classList.add('text-emerald-400');

        setTimeout(() => {
          copyIcon.classList.remove('hidden');
          checkIcon.classList.add('hidden');
          btn.classList.remove('bg-emerald-500', 'text-white');
          feedback.textContent = '';
          feedback.classList.add('text-slate-500');
          feedback.classList.remove('text-emerald-400');
        }, 2000);
      });
    };

    window.closePopup = function () {
      const popup = document.getElementById('info-popup');
      if (popup) popup.remove();
      if (currentPopupId) {
        localStorage.setItem(`popup_${currentPopupId}_dismissed`, 'true');
      }
    };

    // ========== SEARCH & FILTER SYSTEM ==========
    let allProducts = [];
    let allSections = [];
    let activeFilters = [];

    function initSearchFilter() {
      const searchInput = document.getElementById('product-search');
      if (searchInput) {
        searchInput.addEventListener('input', filterProducts);
      }

      // Close category dropdown when clicking outside
      document.addEventListener('click', (e) => {
        const dropdown = document.getElementById('category-dropdown');
        const button = document.querySelector('button[onclick="toggleCategoryMenu()"]');
        if (dropdown && button && !dropdown.contains(e.target) && !button.contains(e.target)) {
          window.closeCategoryMenu();
        }
      });
    }

    window.toggleCategoryMenu = function () {
      const dropdown = document.getElementById('category-dropdown');
      if (dropdown.classList.contains('invisible')) {
        dropdown.classList.remove('invisible', 'opacity-0', 'scale-95');
        document.getElementById('category-search').focus();
      } else {
        window.closeCategoryMenu();
      }
    }

    window.closeCategoryMenu = function () {
      const dropdown = document.getElementById('category-dropdown');
      dropdown.classList.add('invisible', 'opacity-0', 'scale-95');
    }

    function initCategoryDropdown() {
      const tags = new Set();
      allProducts.forEach(p => {
        if (p.tag) p.tag.split(',').forEach(t => tags.add(t.trim()));
      });

      const listContainer = document.getElementById('category-list');
      if (!listContainer) return;

      listContainer.innerHTML = '';
      Array.from(tags).sort().forEach(tag => {
        if (!tag || tag === 'Normal') return;

        const btn = document.createElement('button');
        btn.className = 'category-item w-full flex items-center justify-between px-3 py-2.5 rounded-lg text-sm text-slate-300 hover:bg-white/5 hover:text-white transition group';
        btn.onclick = () => toggleFilter(tag);
        btn.innerHTML = `
          <span class=\"font-medium\">${tag}</span>
          <div class=\"w-5 h-5 rounded border-2 border-white/20 flex items-center justify-center group-hover:border-indigo-400 transition-all\">\n            <svg class=\"w-3.5 h-3.5 text-indigo-400 opacity-0 scale-50 transition-all duration-200\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"3\" d=\"M5 13l4 4L19 7\"></path>\n            </svg>\n          </div>
        `;
        btn.dataset.tag = tag;
        listContainer.appendChild(btn);
      });
    }

    window.filterCategoriesInDropdown = function () {
      const input = document.getElementById('category-search');
      const filter = input.value.toLowerCase();
      const items = document.querySelectorAll('.category-item');

      items.forEach(item => {
        const text = item.textContent.toLowerCase();
        item.style.display = text.includes(filter) ? 'flex' : 'none';
      });
    }

    window.toggleFilter = function (tag) {
      const btn = document.querySelector(`.category-item[data-tag=\"${tag}\"]`);
      const checkIcon = btn ? btn.querySelector('svg') : null;

      if (activeFilters.includes(tag)) {
        activeFilters = activeFilters.filter(t => t !== tag);
        if (checkIcon) checkIcon.classList.add('opacity-0', 'scale-50');
      } else {
        activeFilters.push(tag);
        if (checkIcon) checkIcon.classList.remove('opacity-0', 'scale-50');
      }

      updateActiveFiltersUI();
      filterProducts();
    };

    function updateActiveFiltersUI() {
      const container = document.getElementById('active-filters');
      container.innerHTML = '';

      activeFilters.forEach(tag => {
        const badge = document.createElement('button');
        badge.onclick = () => toggleFilter(tag);
        badge.className = 'flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-semibold bg-gradient-to-r from-indigo-500 to-purple-500 text-white hover:from-indigo-600 hover:to-purple-600 transition-all shadow-lg shadow-indigo-500/20 animate-fade-in';
        badge.innerHTML = `
          <span>${tag}</span>
          <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
          </svg>
        `;
        container.appendChild(badge);
      });
    }

    function filterProducts() {
      const searchInput = document.getElementById('product-search');
      const searchTerm = searchInput ? searchInput.value.toLowerCase() : '';

      // RESTORE LOGIC: If no search term and no filters, show original grouped view
      if (!searchTerm && activeFilters.length === 0) {
        renderGroupedProducts();
        return;
      }

      let filtered = allProducts;

      if (searchTerm) {
        filtered = filtered.filter(p =>
          p.name.toLowerCase().includes(searchTerm) ||
          (p.description && p.description.toLowerCase().includes(searchTerm)) ||
          (p.tag && p.tag.toLowerCase().includes(searchTerm))
        );
      }

      if (activeFilters.length > 0) {
        filtered = filtered.filter(p => {
          const productTags = p.tag ? p.tag.split(',').map(t => t.trim()) : [];
          return activeFilters.some(f => productTags.includes(f));
        });
      }

      renderFilteredProducts(filtered);
    }

    function renderGroupedProducts() {
      const productsGrid = document.getElementById('products-grid');
      productsGrid.innerHTML = '';

      if (allProducts.length === 0) {
        productsGrid.innerHTML = '<div class="col-span-full text-center py-10 text-slate-400">Belum ada produk tersedia.</div>';
        return;
      }

      // Group products by section
      const productsBySection = {};
      const productsWithoutSection = [];

      allProducts.forEach((data) => {
        const sectionId = data.sectionId;
        if (sectionId) {
          if (!productsBySection[sectionId]) {
            productsBySection[sectionId] = [];
          }
          productsBySection[sectionId].push(data);
        } else {
          productsWithoutSection.push(data);
        }
      });

      // Sort products within each section
      Object.keys(productsBySection).forEach(sectionId => {
        productsBySection[sectionId].sort((a, b) => (a.orderInSection || 0) - (b.orderInSection || 0));
      });
      productsWithoutSection.sort((a, b) => (a.orderInSection || 0) - (b.orderInSection || 0));

      // Render each section with its products
      allSections.forEach(section => {
        const productsInSection = productsBySection[section.id];
        if (!productsInSection || productsInSection.length === 0) return;

        const sectionHeader = `
          <div class="col-span-full mt-8 mb-4 animate-fade-in">
            <h2 class="text-2xl md:text-3xl font-bold text-white mb-2">${section.name}</h2>
            ${section.description ? `<p class="text-sm text-slate-400">${section.description}</p>` : ''}
          </div>
        `;
        productsGrid.innerHTML += sectionHeader;

        productsInSection.forEach(product => {
          productsGrid.innerHTML += renderProductCard(product);
        });
      });

      // Render products without section
      if (productsWithoutSection.length > 0) {
        const unsectionedHeader = `
          <div class="col-span-full mt-8 mb-4 animate-fade-in">
            <h2 class="text-2xl md:text-3xl font-bold text-white mb-2">Lainnya</h2>
            <p class="text-sm text-slate-400">Produk lainnya yang tersedia</p>
          </div>
        `;
        productsGrid.innerHTML += unsectionedHeader;

        productsWithoutSection.forEach(product => {
          productsGrid.innerHTML += renderProductCard(product);
        });
      }
    }

    function renderFilteredProducts(products) {
      const productsGrid = document.getElementById('products-grid');
      productsGrid.innerHTML = '';

      if (products.length === 0) {
        productsGrid.innerHTML = '<div class="col-span-full text-center py-10 text-slate-400">Tidak ada produk ditemukan.</div>';
        return;
      }

      products.sort((a, b) => (a.order || 0) - (b.order || 0)).forEach(data => {
        productsGrid.innerHTML += renderProductCard(data);
      });
    }

    function renderProductCard(data) {
      const imgHtml = data.image
        ? `<div class="aspect-video overflow-hidden rounded-2xl bg-white/5 mb-3"><img src="${data.image}" alt="${data.name}" class="h-full w-full object-cover group-hover:scale-110 transition-transform duration-500"></div>`
        : `<div class="aspect-video rounded-2xl bg-gradient-to-br from-indigo-500/20 to-cyan-500/20 mb-3 flex items-center justify-center"><svg class="w-12 h-12 text-white/20" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg></div>`;

      let tagsContent = '';
      if (data.tag) {
        data.tag.split(',').forEach(tag => {
          const t = tag.trim();
          if (t && t !== 'Normal') {
            tagsContent += `<span class="text-xs px-2 py-0.5 rounded-full bg-emerald-500/10 text-emerald-400">${t}</span>`;
          }
        });
      }

      let stockCount = 0;
      if (data.hasVariants && Array.isArray(data.variants)) {
        stockCount = data.variants.reduce((acc, v) => acc + (v.stockItems ? v.stockItems.length : 0), 0);
      } else {
        stockCount = Array.isArray(data.stockItems) ? data.stockItems.length : 0;
      }

      let stockHtml = stockCount === 0 ? '<span class="text-xs font-semibold px-2.5 py-1 rounded-full bg-slate-700/50 text-slate-500">Sold Out</span>'
        : stockCount <= 5 ? `<span class="text-xs font-semibold px-2.5 py-1 rounded-full bg-red-500/10 text-red-400">${stockCount} left</span>`
          : stockCount <= 10 ? `<span class="text-xs font-semibold px-2.5 py-1 rounded-full bg-amber-500/10 text-amber-400">${stockCount} left</span>`
            : '<span class="text-xs font-semibold px-2.5 py-1 rounded-full bg-emerald-500/10 text-emerald-400">In Stock</span>';

      let priceHtml = '';
      if (data.hasVariants && Array.isArray(data.variants) && data.variants.length > 0) {
        const prices = data.variants.map(v => v.price).sort((a, b) => a - b);
        const minPrice = prices[0];
        const maxPrice = prices[prices.length - 1];

        if (minPrice === maxPrice) {
          priceHtml = `<p class="text-lg font-bold text-white">${formatPrice(minPrice)}</p>`;
        } else {
          priceHtml = `<p class="text-lg font-bold text-white">${formatPrice(minPrice)} - ${formatPrice(maxPrice)}</p>`;
        }
      } else {
        if (data.original_price && data.original_price > data.price) {
          priceHtml = `
            <div class="flex items-end gap-2">
              <p class="text-lg font-bold text-white">${formatPrice(data.price)}</p>
              <p class="text-sm text-slate-500 line-through">${formatPrice(data.original_price)}</p>
            </div>
          `;
        } else {
          priceHtml = `<p class="text-lg font-bold text-white">${formatPrice(data.price)}</p>`;
        }
      }

      return `
        <a href="detail-product.html?id=${data.id}" class="block rounded-3xl border border-white/10 bg-white/5 p-5 hover:bg-white/10 transition-all duration-300 hover:border-white/20 hover:-translate-y-1 group">
          <div class="flex flex-col h-full">
            ${imgHtml}
            <div class="mb-2 flex justify-between items-start gap-2">
              <div class="flex flex-wrap gap-2">${tagsContent}</div>
              ${stockHtml}
            </div>
            <h3 class="font-semibold text-lg group-hover:text-indigo-300 transition mt-1">${data.name}</h3>
            <div class="mt-4 pt-4 border-t border-white/5">${priceHtml}</div>
          </div>
        </a>
      `;
    }

    // ========== THEME ENGINE ==========
    async function initThemeEngine() {
      try {
        const { query, where, orderBy, getDoc, doc } = await import("https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js");

        const themesSnapshot = await getDocs(collection(db, "themes"));
        if (themesSnapshot.empty) return;

        let activeTheme = null;
        const now = new Date();

        themesSnapshot.forEach(themeDoc => {
          const theme = themeDoc.data();

          // Check auto mode (date based)
          if (theme.activationMode === 'auto' && theme.startDate && theme.endDate) {
            const start = new Date(theme.startDate);
            const end = new Date(theme.endDate);
            if (now >= start && now <= end) {
              activeTheme = theme;
            }
          }

          // Check manual mode
          if (theme.isActive) {
            activeTheme = theme;
          }
        });

        if (activeTheme && activeTheme.particle && activeTheme.particle !== 'none') {
          initParticles(activeTheme.particle, { primary: activeTheme.primaryColor, accent: activeTheme.secondaryColor });
        }
      } catch (error) {
        console.error('Theme engine error:', error);
      }
    }

    function initParticles(type, colors) {
      if (!type || type === 'none') return;

      const canvas = document.createElement('canvas');
      canvas.id = 'theme-particles';
      canvas.style.cssText = 'position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:1;';
      document.body.appendChild(canvas);

      const ctx = canvas.getContext('2d');
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;

      // Responsive scaling based on screen size
      const isMobile = window.innerWidth < 768;
      const scaleFactor = isMobile ? 0.5 : 1; // 50% smaller on mobile
      const densityFactor = isMobile ? 0.6 : 1; // 40% fewer particles on mobile

      const particles = [];
      let baseCount = type === 'lanterns' ? 25 : type === 'leaves' ? 40 : 50;
      const maxParticles = Math.floor(baseCount * densityFactor);

      for (let i = 0; i < maxParticles; i++) {
        particles.push(createParticle(type, canvas, colors, scaleFactor));
      }

      let time = 0;

      function animate() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        time += 0.01;

        particles.forEach((p, i) => {
          // Movement with sway
          p.y += p.speed;
          p.x += Math.sin(time + p.swayOffset) * p.sway;
          p.rotation += p.rotationSpeed;
          p.twinkle = 0.7 + Math.sin(time * 3 + p.twinkleOffset) * 0.3;

          if (p.y > canvas.height + 50) {
            particles[i] = createParticle(type, canvas, colors, scaleFactor);
            particles[i].y = -50;
          }

          ctx.save();
          ctx.globalAlpha = p.opacity * p.twinkle;
          ctx.translate(p.x, p.y);
          ctx.rotate(p.rotation);

          if (type === 'snow') {
            drawSnowflake(ctx, p.size, colors?.primary || '#fff');
          } else if (type === 'stars') {
            drawGlowingStar(ctx, p.size, colors?.primary || '#FFD700');
          } else if (type === 'hearts') {
            drawBeautifulHeart(ctx, p.size, colors?.primary || '#FF6B6B');
          } else if (type === 'leaves') {
            drawAutumnLeaf(ctx, p.size, p.leafColor);
          } else if (type === 'lanterns') {
            drawLantern(ctx, p.size, colors?.accent || '#FFD700', colors?.primary || '#FF4500');
          } else if (type === 'crescent') {
            drawCrescentMoon(ctx, p.size, colors?.primary || '#FFD700', colors?.accent || '#FFF');
          } else if (type === 'ketupat') {
            drawKetupat(ctx, p.size, colors?.primary || '#228B22', colors?.accent || '#90EE90');
          } else if (type === 'confetti') {
            drawConfetti(ctx, p.size, p.confettiColor);
          }

          ctx.restore();
        });

        requestAnimationFrame(animate);
      }

      animate();

      window.addEventListener('resize', () => {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
      });
    }

    function createParticle(type, canvas, colors, scaleFactor = 1) {
      const leafColors = ['#D2691E', '#8B4513', '#CD853F', '#B8860B', '#DAA520', '#FF8C00', '#FF6347'];
      const confettiColors = ['#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', '#FFEAA7', '#DDA0DD', '#98D8C8', '#F7DC6F', '#BB8FCE'];

      let speed, size;
      switch (type) {
        case 'lanterns': speed = Math.random() * 0.5 + 0.3; size = Math.random() * 15 + 20; break;
        case 'crescent': speed = Math.random() * 0.8 + 0.4; size = Math.random() * 6 + 8; break;
        case 'ketupat': speed = Math.random() * 1 + 0.5; size = Math.random() * 6 + 8; break;
        case 'confetti': speed = Math.random() * 2 + 1; size = Math.random() * 6 + 4; break;
        case 'snow': speed = Math.random() * 1.2 + 0.4; size = Math.random() * 8 + 4; break;
        case 'leaves': speed = Math.random() * 1.5 + 0.5; size = Math.random() * 12 + 8; break;
        default: speed = Math.random() * 1.5 + 0.5; size = Math.random() * 10 + 6;
      }

      // Apply responsive scaling
      size = size * scaleFactor;

      return {
        x: Math.random() * canvas.width,
        y: Math.random() * canvas.height - canvas.height,
        speed,
        size,
        opacity: Math.random() * 0.4 + 0.5,
        sway: type === 'leaves' || type === 'confetti' ? Math.random() * 2 + 1 : Math.random() * 0.8,
        swayOffset: Math.random() * Math.PI * 2,
        rotation: Math.random() * Math.PI * 2,
        rotationSpeed: type === 'leaves' || type === 'confetti' ? (Math.random() - 0.5) * 0.08 : (Math.random() - 0.5) * 0.02,
        twinkle: 1,
        twinkleOffset: Math.random() * Math.PI * 2,
        leafColor: leafColors[Math.floor(Math.random() * leafColors.length)],
        confettiColor: confettiColors[Math.floor(Math.random() * confettiColors.length)]
      };
    }

    // ‚ùÑÔ∏è Snowflake
    function drawSnowflake(ctx, size, color) {
      ctx.strokeStyle = color;
      ctx.fillStyle = color;
      ctx.lineWidth = size / 8;
      ctx.lineCap = 'round';

      for (let i = 0; i < 6; i++) {
        ctx.save();
        ctx.rotate((i * Math.PI) / 3);

        // Main branch
        ctx.beginPath();
        ctx.moveTo(0, 0);
        ctx.lineTo(0, -size);
        ctx.stroke();

        // Side branches
        ctx.beginPath();
        ctx.moveTo(0, -size * 0.4);
        ctx.lineTo(-size * 0.25, -size * 0.6);
        ctx.moveTo(0, -size * 0.4);
        ctx.lineTo(size * 0.25, -size * 0.6);
        ctx.moveTo(0, -size * 0.7);
        ctx.lineTo(-size * 0.15, -size * 0.85);
        ctx.moveTo(0, -size * 0.7);
        ctx.lineTo(size * 0.15, -size * 0.85);
        ctx.stroke();

        ctx.restore();
      }

      // Center dot
      ctx.beginPath();
      ctx.arc(0, 0, size / 6, 0, Math.PI * 2);
      ctx.fill();
    }

    // ‚≠ê Glowing Star
    function drawGlowingStar(ctx, size, color) {
      // Outer glow
      const gradient = ctx.createRadialGradient(0, 0, 0, 0, 0, size * 2);
      gradient.addColorStop(0, color);
      gradient.addColorStop(0.3, color + '80');
      gradient.addColorStop(1, 'transparent');
      ctx.fillStyle = gradient;
      ctx.beginPath();
      ctx.arc(0, 0, size * 2, 0, Math.PI * 2);
      ctx.fill();

      // Star shape
      ctx.fillStyle = color;
      ctx.beginPath();
      for (let i = 0; i < 5; i++) {
        const outerAngle = (i * 4 * Math.PI) / 5 - Math.PI / 2;
        const innerAngle = outerAngle + Math.PI / 5;
        const outerX = Math.cos(outerAngle) * size;
        const outerY = Math.sin(outerAngle) * size;
        const innerX = Math.cos(innerAngle) * (size * 0.4);
        const innerY = Math.sin(innerAngle) * (size * 0.4);

        if (i === 0) ctx.moveTo(outerX, outerY);
        else ctx.lineTo(outerX, outerY);
        ctx.lineTo(innerX, innerY);
      }
      ctx.closePath();
      ctx.fill();

      // Sparkle lines
      ctx.strokeStyle = color;
      ctx.lineWidth = 1;
      ctx.globalAlpha = 0.5;
      for (let i = 0; i < 4; i++) {
        ctx.save();
        ctx.rotate((i * Math.PI) / 2);
        ctx.beginPath();
        ctx.moveTo(0, -size * 1.3);
        ctx.lineTo(0, -size * 1.8);
        ctx.stroke();
        ctx.restore();
      }
    }

    // ‚ù§Ô∏è Beautiful Heart
    function drawBeautifulHeart(ctx, size, color) {
      const gradient = ctx.createRadialGradient(-size * 0.3, -size * 0.3, 0, 0, 0, size * 2);
      gradient.addColorStop(0, '#FF9999');
      gradient.addColorStop(0.5, color);
      gradient.addColorStop(1, '#CC0000');

      ctx.fillStyle = gradient;
      ctx.beginPath();
      ctx.moveTo(0, size * 0.3);
      ctx.bezierCurveTo(-size * 0.1, 0, -size * 0.5, -size * 0.3, -size * 0.5, -size * 0.5);
      ctx.bezierCurveTo(-size * 0.5, -size * 0.8, -size * 0.25, -size, 0, -size * 0.7);
      ctx.bezierCurveTo(size * 0.25, -size, size * 0.5, -size * 0.8, size * 0.5, -size * 0.5);
      ctx.bezierCurveTo(size * 0.5, -size * 0.3, size * 0.1, 0, 0, size * 0.3);
      ctx.fill();

      // Shine effect
      ctx.fillStyle = 'rgba(255,255,255,0.4)';
      ctx.beginPath();
      ctx.ellipse(-size * 0.2, -size * 0.5, size * 0.1, size * 0.15, -Math.PI / 4, 0, Math.PI * 2);
      ctx.fill();
    }

    // üçÇ Autumn Leaf
    function drawAutumnLeaf(ctx, size, color) {
      ctx.fillStyle = color;
      ctx.strokeStyle = '#5D4037';
      ctx.lineWidth = 1;

      // Leaf shape
      ctx.beginPath();
      ctx.moveTo(0, size);
      ctx.bezierCurveTo(-size * 0.3, size * 0.7, -size * 0.7, size * 0.3, -size * 0.5, 0);
      ctx.bezierCurveTo(-size * 0.6, -size * 0.3, -size * 0.3, -size * 0.5, 0, -size * 0.8);
      ctx.bezierCurveTo(size * 0.3, -size * 0.5, size * 0.6, -size * 0.3, size * 0.5, 0);
      ctx.bezierCurveTo(size * 0.7, size * 0.3, size * 0.3, size * 0.7, 0, size);
      ctx.fill();
      ctx.stroke();

      // Stem
      ctx.strokeStyle = '#3E2723';
      ctx.lineWidth = size / 10;
      ctx.beginPath();
      ctx.moveTo(0, size);
      ctx.lineTo(0, size * 1.5);
      ctx.stroke();

      // Veins
      ctx.strokeStyle = '#5D4037';
      ctx.lineWidth = size / 15;
      ctx.beginPath();
      ctx.moveTo(0, size);
      ctx.lineTo(0, -size * 0.6);
      ctx.moveTo(0, size * 0.3);
      ctx.lineTo(-size * 0.3, 0);
      ctx.moveTo(0, size * 0.3);
      ctx.lineTo(size * 0.3, 0);
      ctx.moveTo(0, -size * 0.2);
      ctx.lineTo(-size * 0.25, -size * 0.4);
      ctx.moveTo(0, -size * 0.2);
      ctx.lineTo(size * 0.25, -size * 0.4);
      ctx.stroke();
    }

    // üèÆ Lantern (Ramadan/Eid/Chinese New Year)
    function drawLantern(ctx, size, goldColor, redColor) {
      // Glow effect
      const glow = ctx.createRadialGradient(0, 0, 0, 0, 0, size * 2);
      glow.addColorStop(0, goldColor + '60');
      glow.addColorStop(0.5, goldColor + '20');
      glow.addColorStop(1, 'transparent');
      ctx.fillStyle = glow;
      ctx.beginPath();
      ctx.arc(0, 0, size * 2, 0, Math.PI * 2);
      ctx.fill();

      // String
      ctx.strokeStyle = '#8B4513';
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.moveTo(0, -size * 1.5);
      ctx.lineTo(0, -size * 0.8);
      ctx.stroke();

      // Top cap
      ctx.fillStyle = goldColor;
      ctx.beginPath();
      ctx.ellipse(0, -size * 0.7, size * 0.4, size * 0.15, 0, 0, Math.PI * 2);
      ctx.fill();

      // Main body
      const bodyGradient = ctx.createLinearGradient(-size * 0.5, 0, size * 0.5, 0);
      bodyGradient.addColorStop(0, '#8B0000');
      bodyGradient.addColorStop(0.3, redColor);
      bodyGradient.addColorStop(0.7, redColor);
      bodyGradient.addColorStop(1, '#8B0000');
      ctx.fillStyle = bodyGradient;

      ctx.beginPath();
      ctx.moveTo(-size * 0.3, -size * 0.6);
      ctx.bezierCurveTo(-size * 0.6, -size * 0.3, -size * 0.6, size * 0.3, -size * 0.3, size * 0.6);
      ctx.lineTo(size * 0.3, size * 0.6);
      ctx.bezierCurveTo(size * 0.6, size * 0.3, size * 0.6, -size * 0.3, size * 0.3, -size * 0.6);
      ctx.closePath();
      ctx.fill();

      // Decorative lines
      ctx.strokeStyle = goldColor;
      ctx.lineWidth = 1.5;
      for (let i = -2; i <= 2; i++) {
        ctx.beginPath();
        ctx.moveTo(i * size * 0.15, -size * 0.5);
        ctx.bezierCurveTo(i * size * 0.18, 0, i * size * 0.18, 0, i * size * 0.15, size * 0.5);
        ctx.stroke();
      }

      // Bottom cap
      ctx.fillStyle = goldColor;
      ctx.beginPath();
      ctx.ellipse(0, size * 0.6, size * 0.35, size * 0.12, 0, 0, Math.PI * 2);
      ctx.fill();

      // Tassel
      ctx.strokeStyle = goldColor;
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.moveTo(0, size * 0.7);
      ctx.lineTo(0, size * 1.2);
      ctx.stroke();

      for (let i = -2; i <= 2; i++) {
        ctx.beginPath();
        ctx.moveTo(0, size * 1.2);
        ctx.lineTo(i * size * 0.08, size * 1.5);
        ctx.stroke();
      }

      // Inner glow
      ctx.fillStyle = 'rgba(255, 200, 100, 0.3)';
      ctx.beginPath();
      ctx.ellipse(0, 0, size * 0.25, size * 0.4, 0, 0, Math.PI * 2);
      ctx.fill();
    }

    // üåô Crescent Moon (Ramadan)
    function drawCrescentMoon(ctx, size, color, accentColor) {
      // Outer glow with softer effect
      const glow = ctx.createRadialGradient(0, 0, 0, 0, 0, size * 2.5);
      glow.addColorStop(0, color + '50');
      glow.addColorStop(0.5, color + '20');
      glow.addColorStop(1, 'transparent');
      ctx.fillStyle = glow;
      ctx.beginPath();
      ctx.arc(0, 0, size * 2.5, 0, Math.PI * 2);
      ctx.fill();

      // Crescent shape
      ctx.fillStyle = color;
      ctx.beginPath();
      ctx.arc(0, 0, size, 0, Math.PI * 2);
      ctx.fill();

      // Cut out inner circle for crescent
      ctx.globalCompositeOperation = 'destination-out';
      ctx.beginPath();
      ctx.arc(size * 0.35, -size * 0.1, size * 0.75, 0, Math.PI * 2);
      ctx.fill();
      ctx.globalCompositeOperation = 'source-over';

      // Star next to moon - use accent color if provided
      ctx.fillStyle = accentColor || color;
      const starX = -size * 0.8;
      const starY = -size * 0.3;
      const starSize = size * 0.25;
      ctx.beginPath();
      for (let i = 0; i < 5; i++) {
        const outerAngle = (i * 4 * Math.PI) / 5 - Math.PI / 2;
        const innerAngle = outerAngle + Math.PI / 5;
        const outerPx = starX + Math.cos(outerAngle) * starSize;
        const outerPy = starY + Math.sin(outerAngle) * starSize;
        const innerPx = starX + Math.cos(innerAngle) * (starSize * 0.4);
        const innerPy = starY + Math.sin(innerAngle) * (starSize * 0.4);
        if (i === 0) ctx.moveTo(outerPx, outerPy);
        else ctx.lineTo(outerPx, outerPy);
        ctx.lineTo(innerPx, innerPy);
      }
      ctx.closePath();
      ctx.fill();
    }

    // üßß Ketupat (Eid/Lebaran)
    function drawKetupat(ctx, size, greenColor, lightGreenColor) {
      // Diamond shape with better color usage
      const gradient = ctx.createLinearGradient(-size, 0, size, 0);
      gradient.addColorStop(0, '#1B5E20');
      gradient.addColorStop(0.3, greenColor || '#228B22');
      gradient.addColorStop(0.7, lightGreenColor || '#90EE90');
      gradient.addColorStop(1, '#1B5E20');

      ctx.fillStyle = gradient;
      ctx.beginPath();
      ctx.moveTo(0, -size);
      ctx.lineTo(size * 0.7, 0);
      ctx.lineTo(0, size);
      ctx.lineTo(-size * 0.7, 0);
      ctx.closePath();
      ctx.fill();

      // Weave pattern
      ctx.strokeStyle = '#2E7D32';
      ctx.lineWidth = 1;

      // Horizontal weave lines
      for (let i = -0.6; i <= 0.6; i += 0.3) {
        ctx.beginPath();
        ctx.moveTo(-size * 0.5, size * i);
        ctx.lineTo(size * 0.5, size * i);
        ctx.stroke();
      }

      // Diagonal weave lines
      for (let i = -0.5; i <= 0.5; i += 0.25) {
        ctx.beginPath();
        ctx.moveTo(size * i, -size * 0.8);
        ctx.lineTo(size * (i + 0.3), size * 0.8);
        ctx.stroke();

        ctx.beginPath();
        ctx.moveTo(size * i, -size * 0.8);
        ctx.lineTo(size * (i - 0.3), size * 0.8);
        ctx.stroke();
      }

      // Hanging rope
      ctx.strokeStyle = '#5D4037';
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.moveTo(0, -size);
      ctx.lineTo(0, -size * 1.4);
      ctx.stroke();

      // Top loop
      ctx.beginPath();
      ctx.arc(0, -size * 1.5, size * 0.1, 0, Math.PI * 2);
      ctx.stroke();
    }

    // üéä Confetti
    function drawConfetti(ctx, size, color) {
      ctx.fillStyle = color;

      // Random shape type
      const shapeType = Math.floor(Math.random() * 3);

      if (shapeType === 0) {
        // Rectangle ribbon
        ctx.fillRect(-size / 2, -size, size, size * 2);
      } else if (shapeType === 1) {
        // Circle
        ctx.beginPath();
        ctx.arc(0, 0, size, 0, Math.PI * 2);
        ctx.fill();
      } else {
        // Squiggly ribbon
        ctx.beginPath();
        ctx.moveTo(-size, -size);
        ctx.bezierCurveTo(-size / 2, 0, size / 2, 0, size, size);
        ctx.lineTo(size, size + size / 3);
        ctx.bezierCurveTo(size / 2, size / 3, -size / 2, size / 3, -size, -size + size / 3);
        ctx.closePath();
        ctx.fill();
      }

      // Shine
      ctx.fillStyle = 'rgba(255,255,255,0.3)';
      ctx.fillRect(-size / 4, -size / 2, size / 4, size / 2);
    }

    init();
  </script>
  <!--Start of Tawk.to Script-->
  <script type="text/javascript">
    var Tawk_API = Tawk_API || {}, Tawk_LoadStart = new Date();
    (function () {
      var s1 = document.createElement("script"), s0 = document.getElementsByTagName("script")[0];
      s1.async = true;
      s1.src = 'https://embed.tawk.to/698a62f02fb5be1c3a2b2e1e/1jh294vin';
      s1.charset = 'UTF-8';
      s1.setAttribute('crossorigin', '*');
      s0.parentNode.insertBefore(s1, s0);
    })();
  </script>
  <!--End of Tawk.to Script-->
</body>

</html>